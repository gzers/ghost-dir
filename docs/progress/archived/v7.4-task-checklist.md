# Ghost-Dir v7.4 升级任务清单

## Phase 1: 数据层升级 (P0)
- [x] 扩展 UserData 数据模型
  - [x] 添加 `custom_templates` 字段
  - [x] 添加 `ignored_ids` 字段
  - [x] 添加 `default_target_root` 字段
- [x] 增强 UserManager
  - [x] 更新数据加载逻辑
  - [x] 更新数据保存逻辑
  - [x] 实现数据迁移函数
  - [x] 实现 `add_custom_template()`
  - [x] 实现 `get_custom_templates()`
  - [x] 实现 `add_to_ignore_list()`
  - [x] 实现 `is_ignored()`
  - [x] 实现 `set_default_target_root()`
- [x] 增强 TemplateManager
  - [x] 实现模版合并逻辑（官方 + 自定义）

## Phase 2: 新增视图 (P0)
- [x] 智能发现视图（智能向导）
  - [x] 创建 `wizard/` 目录结构
  - [x] 实现 `wizard_view.py` 主视图
  - [x] 实现 `scan_result_card.py` 组件
  - [x] 实现 `scan_progress.py` 组件
  - [x] 添加右键菜单（永久忽略）
  - [x] 实现一键导入功能
- [x] 模版库视图
  - [x] 创建 `library/` 目录结构
  - [x] 实现 `library_view.py` 主视图
  - [x] 实现 `template_card.py` 组件
  - [x] 实现分类筛选
  - [x] 实现搜索功能
  - [x] 标记官方/自定义模版
- [ ] 帮助/关于视图
  - [ ] 创建 `help/` 目录结构
  - [ ] 实现 `about_view.py` 主视图
  - [ ] 迁移关于信息（从 settings）
  - [ ] 添加使用教程
  - [ ] 添加常见问题

## Phase 3: 导航结构重构 (P0)
- [x] 更新主窗口导航
  - [x] 添加"智能发现"导航项
  - [x] 添加"模版库"导航项
  - [x] 添加"帮助"导航项
  - [x] 调整导航项位置（顶部 3 + 底部 2）
  - [x] 设置默认首页为"我的连接"

## Phase 4: 功能增强 (P0)
- [x] 新增连接对话框
  - [x] 添加"保存为模版"复选框
  - [x] 实现保存自定义模版逻辑
- [x] 设置页面
  - [x] 添加默认仓库路径设置
  - [x] 添加"打开日志文件夹"按钮
  - [x] 移除关于信息（已迁移到帮助页面）
- [x] 扫描逻辑优化
  - [x] 过滤已忽略的模版
  - [x] 过滤已添加的模版

## Phase 5: 测试与验证
- [ ] 功能测试
  - [ ] 测试 5 个页面切换
  - [ ] 测试智能发现流程
  - [ ] 测试模版库展示
  - [ ] 测试自定义模版保存
  - [ ] 测试忽略名单
- [ ] 性能测试
  - [ ] 测试扫描速度
  - [ ] 测试页面切换流畅度
- [ ] UI 测试
  - [ ] 验证导航栏半透明效果
  - [ ] 验证 Fluent Design 一致性

## Phase 6: 文档更新
- [ ] 更新 README.md
- [ ] 更新使用文档
- [ ] 更新版本号到 v7.4
