# 模板系统 UI 优化实施计划

## 目标

优化模板库界面，简化工具栏，创建独立的分类管理对话框，提升用户体验。

---

## Phase 5 - UI 优化与分类管理对话框

### 5.1 创建 CategoryManageDialog

**文件**: `src/gui/dialogs/category_manage_dialog.py`

**布局设计**:
```
┌─────────────────────────────────────────────┐
│  分类管理                      [?] [×]       │
├──────────────┬──────────────────────────────┤
│              │  操作按钮区                   │
│              │  ┌──────────────────────┐   │
│  分类树      │  │ ➕ 添加根分类         │   │
│  (可选中)    │  │ ➕ 添加子分类         │   │
│              │  │ ✏️ 编辑分类          │   │
│  📁 开发工具 │  │ 🗑️ 删除分类          │   │
│   📝 编辑器  │  └──────────────────────┘   │
│   💻 IDE     │                              │
│   🔧 版本控制│  统计信息区                   │
│  🌐 浏览器   │  ┌──────────────────────┐   │
│  💬 社交     │  │ 📊 统计信息           │   │
│   📱 即时通讯│  │ • 总分类数: 15        │   │
│  🎮 游戏     │  │ • 当前选中: 开发工具   │   │
│              │  │ • 子分类数: 3         │   │
│              │  │ • 模板数: 5           │   │
│              │  └──────────────────────┘   │
├──────────────┴──────────────────────────────┤
│                    [确定] [取消]             │
└─────────────────────────────────────────────┘
```

**功能需求**:
1. ✅ 左侧分类树显示（复用 CategoryTreeWidget）
2. ✅ 右侧操作按钮区
3. ✅ 统计信息区
4. ✅ 按钮状态管理
5. ✅ 实时更新

**预计代码量**: ~300行

---

### 5.2 简化 LibraryView 工具栏

**当前**（8个按钮）:
```
[搜索框] [刷新] [新建模板] [新建分类] [编辑分类] [导出] [导入] [统计]
```

**优化后**（5个按钮）:
```
[搜索框] [刷新] [新建模板] [管理分类] [导入/导出▼]
```

**预计修改量**: ~50行

---

### 5.3 实现搜索功能

**当前状态**: 标记为 TODO

**预计代码量**: ~20行

---

## 实施优先级

### P0 - 立即执行（~2小时）
1. ✅ CategoryManageDialog（~300行）
2. ✅ 简化工具栏（~50行）
3. ✅ 搜索功能（~20行）

### P1 - 短期优化（~4小时）
1. 模板预览（~150行）
2. 配置持久化（~80行）

### P2 - 中期改进（~8小时）
1. 单元测试（~400行）
2. 日志系统

---

## 工作量估算

| 任务 | 时间 | 代码量 | 优先级 |
|------|------|--------|--------|
| CategoryManageDialog | 1.5h | ~300行 | P0 |
| 简化工具栏 | 0.3h | ~50行 | P0 |
| 搜索功能 | 0.2h | ~20行 | P0 |
| **总计** | **2h** | **~370行** | - |
