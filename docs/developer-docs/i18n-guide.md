# å›½é™…åŒ– (i18n) æŒ‡å—

Ghost-Dir ä½¿ç”¨æ¨¡å—åŒ–çš„å›½é™…åŒ–ç³»ç»Ÿï¼Œæ”¯æŒå¤šè¯­è¨€ç•Œé¢ã€‚

---

## ğŸ“ æ–‡ä»¶ç»“æ„

```
src/gui/i18n/
â”œâ”€â”€ __init__.py          # å¯¼å‡º t() å‡½æ•°
â”œâ”€â”€ manager.py           # å›½é™…åŒ–ç®¡ç†å™¨
â””â”€â”€ zh_CN/               # ä¸­æ–‡è¯­è¨€åŒ…
    â”œâ”€â”€ __init__.py
    â”œâ”€â”€ app.py           # åº”ç”¨åŸºç¡€æ–‡æ¡ˆ
    â”œâ”€â”€ settings.py      # è®¾ç½®é¡µé¢æ–‡æ¡ˆ
    â”œâ”€â”€ wizard.py        # æ™ºèƒ½å‘å¯¼æ–‡æ¡ˆ
    â”œâ”€â”€ library.py       # æ¨¡ç‰ˆåº“æ–‡æ¡ˆ
    â”œâ”€â”€ connected.py     # æˆ‘çš„è¿æ¥æ–‡æ¡ˆ
    â””â”€â”€ help.py          # å¸®åŠ©é¡µé¢æ–‡æ¡ˆ
```

---

## ğŸŒ å½“å‰æ”¯æŒè¯­è¨€

- **zh_CN** (ç®€ä½“ä¸­æ–‡) - é»˜è®¤è¯­è¨€

---

## ğŸ“ ä½¿ç”¨æ–¹æ³•

### åœ¨ä»£ç ä¸­ä½¿ç”¨ç¿»è¯‘

```python
from src.gui.i18n import t

# åŸºç¡€ç”¨æ³•
title = t("wizard.title")  # "æ™ºèƒ½å‘å¯¼"

# å¸¦å‚æ•°çš„ç¿»è¯‘
message = t("wizard.scan_found", count=10)  # "å‘ç° 10 ä¸ªå¯ç®¡ç†è½¯ä»¶"
```

### ç¿»è¯‘é”®å‘½åè§„èŒƒ

ä½¿ç”¨ç‚¹åˆ†éš”çš„å±‚çº§ç»“æ„ï¼š

```
æ¨¡å—.åŠŸèƒ½.å…·ä½“æ–‡æ¡ˆ
```

**ç¤ºä¾‹**ï¼š
- `wizard.title` - æ™ºèƒ½å‘å¯¼æ ‡é¢˜
- `settings.theme_light` - è®¾ç½®ä¸­çš„æµ…è‰²ä¸»é¢˜
- `connected.status_connected` - å·²è¿æ¥çŠ¶æ€

---

## â• æ·»åŠ æ–°ç¿»è¯‘

### 1. é€‰æ‹©åˆé€‚çš„æ¨¡å—æ–‡ä»¶

æ ¹æ®åŠŸèƒ½é€‰æ‹©å¯¹åº”çš„è¯­è¨€æ–‡ä»¶ï¼š

| åŠŸèƒ½ | æ–‡ä»¶ |
|------|------|
| åº”ç”¨é€šç”¨ | `app.py` |
| è®¾ç½®é¡µé¢ | `settings.py` |
| æ™ºèƒ½å‘å¯¼ | `wizard.py` |
| æ¨¡ç‰ˆåº“ | `library.py` |
| æˆ‘çš„è¿æ¥ | `connected.py` |
| å¸®åŠ©é¡µé¢ | `help.py` |

### 2. æ·»åŠ ç¿»è¯‘æ¡ç›®

åœ¨å¯¹åº”æ–‡ä»¶ä¸­æ·»åŠ é”®å€¼å¯¹ï¼š

```python
# src/gui/i18n/zh_CN/wizard.py

WIZARD_TEXTS = {
    "title": "æ™ºèƒ½å‘å¯¼",
    "scan_button": "å¼€å§‹æ‰«æ",
    "scan_found": "å‘ç° {count} ä¸ªå¯ç®¡ç†è½¯ä»¶",
    # æ·»åŠ æ–°ç¿»è¯‘
    "scan_complete": "æ‰«æå®Œæˆ",
}
```

### 3. åœ¨ä»£ç ä¸­ä½¿ç”¨

```python
from src.gui.i18n import t

label = QLabel(t("wizard.scan_complete"))
```

---

## ğŸ”§ æ·»åŠ æ–°è¯­è¨€

### æ­¥éª¤ 1: åˆ›å»ºè¯­è¨€ç›®å½•

```
src/gui/i18n/
â””â”€â”€ en_US/               # æ–°å¢è‹±æ–‡è¯­è¨€åŒ…
    â”œâ”€â”€ __init__.py
    â”œâ”€â”€ app.py
    â”œâ”€â”€ settings.py
    â””â”€â”€ ...
```

### æ­¥éª¤ 2: ç¿»è¯‘æ–‡æœ¬

å¤åˆ¶ `zh_CN/` ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åˆ° `en_US/`ï¼Œå¹¶ç¿»è¯‘æ–‡æœ¬ï¼š

```python
# src/gui/i18n/en_US/wizard.py

WIZARD_TEXTS = {
    "title": "Smart Wizard",
    "scan_button": "Start Scan",
    "scan_found": "Found {count} manageable software",
}
```

### æ­¥éª¤ 3: æ³¨å†Œè¯­è¨€

åœ¨ `manager.py` ä¸­æ³¨å†Œæ–°è¯­è¨€ï¼š

```python
SUPPORTED_LANGUAGES = {
    "zh_CN": "ç®€ä½“ä¸­æ–‡",
    "en_US": "English",  # æ–°å¢
}
```

---

## ğŸ“‹ ç¿»è¯‘è§„èŒƒ

### 1. é”®åè§„èŒƒ

- ä½¿ç”¨å°å†™å­—æ¯å’Œä¸‹åˆ’çº¿
- ä½¿ç”¨ç‚¹åˆ†éš”å±‚çº§
- ä¿æŒç®€æ´æ˜ç¡®

**ç¤ºä¾‹**ï¼š
```python
âœ… "wizard.scan_button"
âœ… "settings.theme_color_blue"
âŒ "WizardScanButton"
âŒ "wizard_scan_button_text"
```

### 2. æ–‡æœ¬è§„èŒƒ

- ä½¿ç”¨ç®€æ´çš„è¡¨è¿°
- é¿å…è¿‡é•¿çš„å¥å­
- ä¿æŒä¸€è‡´çš„æœ¯è¯­

### 3. å‚æ•°åŒ–æ–‡æœ¬

éœ€è¦åŠ¨æ€å†…å®¹æ—¶ä½¿ç”¨å‚æ•°ï¼š

```python
# ç¿»è¯‘æ–‡ä»¶
"scan_found": "å‘ç° {count} ä¸ªè½¯ä»¶"

# ä½¿ç”¨
t("wizard.scan_found", count=10)
```

---

## ğŸ¯ æœ€ä½³å®è·µ

### 1. æ¨¡å—åŒ–ç»„ç»‡

æŒ‰åŠŸèƒ½æ¨¡å—ç»„ç»‡ç¿»è¯‘æ–‡ä»¶ï¼Œé¿å…å•ä¸ªæ–‡ä»¶è¿‡å¤§ã€‚

### 2. é¿å…ç¡¬ç¼–ç 

âŒ **é”™è¯¯**ï¼š
```python
label = QLabel("å¼€å§‹æ‰«æ")
```

âœ… **æ­£ç¡®**ï¼š
```python
label = QLabel(t("wizard.scan_button"))
```

### 3. é›†ä¸­ç®¡ç†

æ‰€æœ‰æ–‡æ¡ˆéƒ½é€šè¿‡ i18n ç³»ç»Ÿç®¡ç†ï¼Œä¾¿äºï¼š
- ç»Ÿä¸€ä¿®æ”¹
- å¤šè¯­è¨€æ”¯æŒ
- æ–‡æ¡ˆå®¡æŸ¥

### 4. åˆ†ç±»é™åˆ¶

**ç¦æ­¢**åœ¨ i18n ä¸­ç¡¬ç¼–ç ä¸šåŠ¡åˆ†ç±»åç§°ï¼ˆå¦‚ `hardware`ã€`social`ï¼‰ã€‚

ä¸šåŠ¡åˆ†ç±»åº”é€šè¿‡é…ç½®æ–‡ä»¶ç®¡ç†ï¼Œi18n ä»…ç”¨äºç³»ç»Ÿé€šç”¨æ–‡æ¡ˆã€‚

---

## ğŸ“š å®Œæ•´ç¤ºä¾‹

### æ·»åŠ æ–°åŠŸèƒ½çš„ç¿»è¯‘

å‡è®¾è¦æ·»åŠ "æ‰¹é‡æ“ä½œ"åŠŸèƒ½ï¼š

**1. åœ¨ `connected.py` ä¸­æ·»åŠ ç¿»è¯‘**ï¼š

```python
CONNECTED_TEXTS = {
    # ... ç°æœ‰ç¿»è¯‘
    "batch_title": "æ‰¹é‡æ“ä½œ",
    "batch_connect": "æ‰¹é‡å»ºç«‹è¿æ¥",
    "batch_disconnect": "æ‰¹é‡æ–­å¼€è¿æ¥",
    "batch_selected": "å·²é€‰æ‹© {count} é¡¹",
}
```

**2. åœ¨ä»£ç ä¸­ä½¿ç”¨**ï¼š

```python
from src.gui.i18n import t

class BatchToolbar(QWidget):
    def __init__(self):
        super().__init__()
        self.title = QLabel(t("connected.batch_title"))
        self.connect_btn = QPushButton(t("connected.batch_connect"))
        self.disconnect_btn = QPushButton(t("connected.batch_disconnect"))
        
    def update_selection(self, count):
        text = t("connected.batch_selected", count=count)
        self.status_label.setText(text)
```

---

## ğŸ” å¸¸è§é—®é¢˜

### Q: å¦‚ä½•æŸ¥æ‰¾æŸä¸ªæ–‡æ¡ˆçš„ç¿»è¯‘é”®ï¼Ÿ

A: åœ¨ `src/gui/i18n/zh_CN/` ç›®å½•ä¸‹æœç´¢æ–‡æ¡ˆå†…å®¹ã€‚

### Q: ç¿»è¯‘é”®æ‰¾ä¸åˆ°ä¼šæ€æ ·ï¼Ÿ

A: ä¼šè¿”å›é”®åæœ¬èº«ï¼Œä¾¿äºè°ƒè¯•ã€‚ä¾‹å¦‚ `t("missing.key")` è¿”å› `"missing.key"`ã€‚

### Q: å¦‚ä½•æ”¯æŒåŠ¨æ€è¯­è¨€åˆ‡æ¢ï¼Ÿ

A: å½“å‰ç‰ˆæœ¬éœ€è¦é‡å¯åº”ç”¨ã€‚æœªæ¥ç‰ˆæœ¬å°†æ”¯æŒè¿è¡Œæ—¶åˆ‡æ¢ã€‚

---

**æœ€åæ›´æ–°**ï¼š2026-02-04  
**ç‰ˆæœ¬**ï¼š1.0.0
